// Generated by CoffeeScript 1.10.0
var americano, config, getTemplateExt, path;

path = require('path');

americano = require('americano');

getTemplateExt = require('./lib/get_template_ext');

config = {
  common: {
    set: {
      'view engine': getTemplateExt(),
      'views': path.resolve(__dirname, '../client')
    },
    engine: {
      js: function(path, locales, callback) {
        return callback(null, require(path)(locales));
      }
    },
    use: [
      americano.bodyParser(), americano.methodOverride(), americano.errorHandler({
        dumpExceptions: true,
        showStack: true
      }), americano["static"](path.join(__dirname, '..', 'client', 'public'))
    ]
  },
  development: [americano.logger('dev')],
  production: [americano.logger('short')],
  plugins: ['cozydb']
};

module.exports = config;
